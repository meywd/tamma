# Story 1.5-9: Binary Releases & Installers

## Context

Tamma needs to provide easy installation methods for users who prefer binary distributions over npm packages. This involves creating platform-specific binaries, installers, and distribution mechanisms for Windows, macOS, and Linux.

## Technical Specification

### 1. Binary Building Strategy

#### 1.1 Cross-Platform Binary Generation

```typescript
// scripts/build-binaries.ts
import { execSync } from 'child_process';
import { createReadStream, createWriteStream } from 'fs';
import { join } from 'path';
import { createGzip, createDeflate } from 'zlib';
import { pipeline } from 'stream/promises';

interface PlatformConfig {
  platform: string;
  arch: string;
  binaryName: string;
  ext: string;
}

const platforms: PlatformConfig[] = [
  { platform: 'linux', arch: 'x64', binaryName: 'tamma', ext: '' },
  { platform: 'linux', arch: 'arm64', binaryName: 'tamma', ext: '' },
  { platform: 'darwin', arch: 'x64', binaryName: 'tamma', ext: '' },
  { platform: 'darwin', arch: 'arm64', binaryName: 'tamma', ext: '' },
  { platform: 'win32', arch: 'x64', binaryName: 'tamma.exe', ext: '.exe' },
];

async function buildBinaries() {
  console.log('ðŸ”¨ Building Tamma binaries...');

  for (const config of platforms) {
    console.log(`Building for ${config.platform}-${config.arch}...`);

    try {
      // Build the CLI package
      execSync(`pnpm --filter @tamma/cli build`, { stdio: 'inherit' });

      // Use pkg to create binary
      const pkgCommand = [
        'npx pkg',
        `packages/cli/dist/index.js`,
        `--targets node22-${config.platform}-${config.arch}`,
        `--output dist/tamma-${config.platform}-${config.arch}${config.ext}`,
        '--compress GZip',
      ].join(' ');

      execSync(pkgCommand, { stdio: 'inherit' });

      // Make binary executable (non-Windows)
      if (config.platform !== 'win32') {
        execSync(`chmod +x dist/tamma-${config.platform}-${config.arch}${config.ext}`);
      }

      console.log(`âœ… Built ${config.platform}-${config.arch}`);
    } catch (error) {
      console.error(`âŒ Failed to build ${config.platform}-${config.arch}:`, error);
      process.exit(1);
    }
  }
}

async function createArchives() {
  console.log('ðŸ“¦ Creating distribution archives...');

  for (const config of platforms) {
    const binaryName = `tamma-${config.platform}-${config.arch}${config.ext}`;
    const binaryPath = join(process.cwd(), 'dist', binaryName);

    try {
      if (config.platform === 'win32') {
        // Create ZIP for Windows
        const zipName = `tamma-${config.platform}-${config.arch}.zip`;
        await createZipArchive(binaryPath, `dist/${zipName}`);
      } else {
        // Create tar.gz for Unix systems
        const tarName = `tamma-${config.platform}-${config.arch}.tar.gz`;
        await createTarGzArchive(binaryPath, `dist/${tarName}`);
      }

      console.log(`âœ… Created archive for ${config.platform}-${config.arch}`);
    } catch (error) {
      console.error(`âŒ Failed to create archive for ${config.platform}-${config.arch}:`, error);
    }
  }
}

async function createZipArchive(sourcePath: string, outputPath: string) {
  const archiver = require('archiver');
  const output = createWriteStream(outputPath);
  const archive = archiver('zip', { zlib: { level: 9 } });

  return new Promise((resolve, reject) => {
    output.on('close', resolve);
    archive.on('error', reject);

    archive.pipe(output);
    archive.file(sourcePath, { name: 'tamma.exe' });
    archive.finalize();
  });
}

async function createTarGzArchive(sourcePath: string, outputPath: string) {
  const tar = require('tar');

  await tar.create(
    {
      gzip: true,
      file: outputPath,
      cwd: 'dist',
    },
    [sourcePath.split('/').pop()]
  );
}

if (require.main === module) {
  buildBinaries()
    .then(() => createArchives())
    .then(() => console.log('ðŸŽ‰ Binary build completed!'))
    .catch(console.error);
}
```

#### 1.2 Package Configuration for Binary Building

```json
// packages/cli/package.json
{
  "name": "@tamma/cli",
  "version": "1.0.0",
  "main": "dist/index.js",
  "bin": {
    "tamma": "dist/index.js"
  },
  "pkg": {
    "scripts": ["dist/**/*.js", "node_modules/**/*.js"],
    "assets": ["node_modules/@tamma/**/*"],
    "targets": [
      "node22-linux-x64",
      "node22-linux-arm64",
      "node22-macos-x64",
      "node22-macos-arm64",
      "node22-win-x64"
    ]
  },
  "files": ["dist", "README.md", "LICENSE"]
}
```

### 2. Installer Creation

#### 2.1 Windows Installer (NSIS)

```nsis
; installers/windows/installer.nsi
!define APPNAME "Tamma"
!define VERSION "1.0.0"
!define PUBLISHER "Tamma Team"
!define URL "https://github.com/tamma/tamma"

Name "${APPNAME}"
OutFile "tamma-setup-${VERSION}.exe"
InstallDir "$PROGRAMFILES64\${APPNAME}"
RequestExecutionLevel admin

Page directory
Page instfiles

Section "MainSection" SEC01
  SetOutPath "$INSTDIR"
  File "tamma.exe"

  CreateDirectory "$SMPROGRAMS\${APPNAME}"
  CreateShortCut "$SMPROGRAMS\${APPNAME}\${APPNAME}.lnk" "$INSTDIR\tamma.exe"
  CreateShortCut "$DESKTOP\${APPNAME}.lnk" "$INSTDIR\tamma.exe"

  ; Add to PATH
  ${EnvVarUpdate} $0 "PATH" "A" "HKLM" "$INSTDIR"

  WriteRegStr HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\${APPNAME}" "DisplayName" "${APPNAME}"
  WriteRegStr HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\${APPNAME}" "UninstallString" "$INSTDIR\uninstall.exe"
  WriteUninstaller "$INSTDIR\uninstall.exe"
SectionEnd

Section "Uninstall"
  Delete "$INSTDIR\tamma.exe"
  Delete "$INSTDIR\uninstall.exe"
  Delete "$SMPROGRAMS\${APPNAME}\${APPNAME}.lnk"
  Delete "$DESKTOP\${APPNAME}.lnk"
  RMDir "$SMPROGRAMS\${APPNAME}"
  RMDir "$INSTDIR"

  ${un.EnvVarUpdate} $0 "PATH" "R" "HKLM" "$INSTDIR"

  DeleteRegKey HKLM "Software\Microsoft\Windows\CurrentVersion\Uninstall\${APPNAME}"
SectionEnd
```

#### 2.2 macOS Installer (DMG)

```bash
#!/bin/bash
# installers/macos/create-dmg.sh

set -e

APP_NAME="Tamma"
VERSION="1.0.0"
DMG_NAME="tamma-${VERSION}"
SOURCE_DIR="dist/macos"
DMG_DIR="dmg"

# Create app bundle
mkdir -p "${DMG_DIR}/${APP_NAME}.app/Contents/MacOS"
mkdir -p "${DMG_DIR}/${APP_NAME}.app/Contents/Resources"

# Create Info.plist
cat > "${DMG_DIR}/${APP_NAME}.app/Contents/Info.plist" << EOF
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>CFBundleExecutable</key>
    <string>tamma</string>
    <key>CFBundleIdentifier</key>
    <string>com.tamma.cli</string>
    <key>CFBundleName</key>
    <string>${APP_NAME}</string>
    <key>CFBundleVersion</key>
    <string>${VERSION}</string>
    <key>CFBundleShortVersionString</key>
    <string>${VERSION}</string>
    <key>LSMinimumSystemVersion</key>
    <string>10.15</string>
</dict>
</plist>
EOF

# Copy binary
cp "dist/tamma-darwin-x64" "${DMG_DIR}/${APP_NAME}.app/Contents/MacOS/tamma"
chmod +x "${DMG_DIR}/${APP_NAME}.app/Contents/MacOS/tamma"

# Create DMG
hdiutil create -volname "${APP_NAME}" -srcfolder "${DMG_DIR}" -ov -format UDZO "${DMG_NAME}.dmg"

echo "âœ… Created ${DMG_NAME}.dmg"
```

#### 2.3 Linux Packages (DEB/RPM)

```bash
#!/bin/bash
# installers/linux/create-packages.sh

set -e

VERSION="1.0.0"
PACKAGE_NAME="tamma"

# Create DEB package
create_deb() {
    local arch=$1
    local binary="dist/tamma-linux-${arch}"

    mkdir -p "deb/DEBIAN"
    mkdir -p "deb/usr/bin"
    mkdir -p "deb/usr/share/doc/tamma"

    # Copy binary
    cp "$binary" "deb/usr/bin/tamma"
    chmod +x "deb/usr/bin/tamma"

    # Create control file
    cat > "deb/DEBIAN/control" << EOF
Package: ${PACKAGE_NAME}
Version: ${VERSION}
Section: devel
Priority: optional
Architecture: ${arch}
Depends: nodejs (>= 22)
Maintainer: Tamma Team <team@tamma.dev>
Description: Tamma - Autonomous development orchestration
 Tamma is an AI-powered autonomous development orchestration platform
 that manages complete development workflows from GitHub/GitLab issue
 assignment to production deployment.
EOF

    # Create copyright file
    cat > "deb/usr/share/doc/tamma/copyright" << EOF
Format: https://www.debian.org/doc/packaging-manuals/copyright-format/1.0/
Upstream-Name: Tamma
Upstream-Contact: Tamma Team <team@tamma.dev>
Source: https://github.com/tamma/tamma

License: MIT
Copyright 2025 Tamma Team
EOF

    # Build package
    dpkg-deb --build "deb" "${PACKAGE_NAME}_${VERSION}_${arch}.deb"
    echo "âœ… Created ${PACKAGE_NAME}_${VERSION}_${arch}.deb"
}

# Create RPM package
create_rpm() {
    local arch=$1
    local binary="dist/tamma-linux-${arch}"

    mkdir -p "rpmbuild/SOURCES"
    mkdir -p "rpmbuild/SPECS"
    mkdir -p "rpmbuild/BUILD"
    mkdir -p "rpmbuild/RPMS"

    # Copy binary
    cp "$binary" "rpmbuild/SOURCES/tamma"

    # Create spec file
    cat > "rpmbuild/SPECS/tamma.spec" << EOF
Name:           ${PACKAGE_NAME}
Version:        ${VERSION}
Release:        1%{?dist}
Summary:        Autonomous development orchestration platform

License:        MIT
URL:            https://github.com/tamma/tamma
Source0:        tamma

Requires:       nodejs >= 22

%description
Tamma is an AI-powered autonomous development orchestration platform
that manages complete development workflows from GitHub/GitLab issue
assignment to production deployment.

%prep
%setup -q -c -T
cp %{SOURCE0} .

%install
mkdir -p %{buildroot}/usr/bin
install -m 755 tamma %{buildroot}/usr/bin/

%files
/usr/bin/tamma

%changelog
* $(date +'%a %b %d %Y') Tamma Team <team@tamma.dev> - ${VERSION}-1
- Initial package
EOF

    # Build package
    rpmbuild --define "_topdir $(pwd)/rpmbuild" -ba rpmbuild/SPECS/tamma.spec

    # Copy built package
    cp rpmbuild/RPMS/*/${PACKAGE_NAME}-${VERSION}-1.*.rpm .
    echo "âœ… Created ${PACKAGE_NAME}-${VERSION}-1.${arch}.rpm"
}

# Build packages for both architectures
for arch in "x64" "arm64"; do
    if [ "$arch" = "x64" ]; then
        deb_arch="amd64"
        rpm_arch="x86_64"
    else
        deb_arch="arm64"
        rpm_arch="aarch64"
    fi

    create_deb "$deb_arch"
    create_rpm "$rpm_arch"
done
```

### 3. Installation Scripts

#### 3.1 Universal Installation Script

```bash
#!/bin/bash
# install.sh - Universal installation script

set -e

# Configuration
REPO="tamma/tamma"
VERSION=${VERSION:-"latest"}
INSTALL_DIR=${INSTALL_DIR:-"$HOME/.tamma"}
BIN_DIR="$INSTALL_DIR/bin"

# Colors
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

# Logging functions
log_info() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

log_warn() {
    echo -e "${YELLOW}[WARN]${NC} $1"
}

log_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

# Detect platform
detect_platform() {
    local platform=$(uname -s | tr '[:upper:]' '[:lower:]')
    local arch=$(uname -m)

    case $platform in
        linux)
            platform="linux"
            ;;
        darwin)
            platform="darwin"
            ;;
        windows)
            platform="win32"
            ;;
        *)
            log_error "Unsupported platform: $platform"
            exit 1
            ;;
    esac

    case $arch in
        x86_64)
            arch="x64"
            ;;
        arm64|aarch64)
            arch="arm64"
            ;;
        *)
            log_error "Unsupported architecture: $arch"
            exit 1
            ;;
    esac

    echo "${platform}-${arch}"
}

# Download binary
download_binary() {
    local platform_arch=$1
    local download_url

    if [ "$VERSION" = "latest" ]; then
        download_url="https://github.com/${REPO}/releases/latest/download/tamma-${platform_arch}.tar.gz"
    else
        download_url="https://github.com/${REPO}/releases/download/${VERSION}/tamma-${platform_arch}.tar.gz"
    fi

    log_info "Downloading Tamma from: $download_url"

    # Create temporary directory
    local temp_dir=$(mktemp -d)
    trap "rm -rf $temp_dir" EXIT

    # Download and extract
    if command -v curl >/dev/null 2>&1; then
        curl -L "$download_url" -o "$temp_dir/tamma.tar.gz"
    elif command -v wget >/dev/null 2>&1; then
        wget -O "$temp_dir/tamma.tar.gz" "$download_url"
    else
        log_error "Neither curl nor wget is available"
        exit 1
    fi

    cd "$temp_dir"
    tar -xzf tamma.tar.gz

    # Install binary
    mkdir -p "$BIN_DIR"
    mv tamma "$BIN_DIR/"
    chmod +x "$BIN_DIR/tamma"

    log_info "Tamma installed to: $BIN_DIR/tamma"
}

# Update shell configuration
update_shell_config() {
    local shell_config=""

    case $SHELL in
        */bash)
            shell_config="$HOME/.bashrc"
            ;;
        */zsh)
            shell_config="$HOME/.zshrc"
            ;;
        */fish)
            shell_config="$HOME/.config/fish/config.fish"
            ;;
        *)
            log_warn "Unsupported shell: $SHELL"
            return
            ;;
    esac

    if ! grep -q "$BIN_DIR" "$shell_config" 2>/dev/null; then
        log_info "Adding $BIN_DIR to PATH in $shell_config"
        echo "export PATH=\"\$PATH:$BIN_DIR\"" >> "$shell_config"
        log_warn "Please restart your shell or run: export PATH=\"\$PATH:$BIN_DIR\""
    fi
}

# Verify installation
verify_installation() {
    if [ -x "$BIN_DIR/tamma" ]; then
        log_info "Tamma installed successfully!"
        log_info "Version: $("$BIN_DIR/tamma" --version)"
        log_info "Run 'tamma --help' to get started"
    else
        log_error "Installation verification failed"
        exit 1
    fi
}

# Main installation
main() {
    log_info "Installing Tamma..."

    # Check prerequisites
    if ! command -v tar >/dev/null 2>&1; then
        log_error "tar is required but not installed"
        exit 1
    fi

    # Detect platform
    local platform_arch=$(detect_platform)
    log_info "Detected platform: $platform_arch"

    # Download and install
    download_binary "$platform_arch"

    # Update shell configuration
    update_shell_config

    # Verify installation
    verify_installation
}

# Run installation
main "$@"
```

#### 3.2 PowerShell Installation Script

```powershell
# install.ps1 - Windows installation script

param(
    [string]$Version = "latest",
    [string]$InstallDir = "$env:USERPROFILE\.tamma"
)

$ErrorActionPreference = "Stop"

# Configuration
$Repo = "tamma/tamma"
$BinDir = "$InstallDir\bin"

# Colors
$Colors = @{
    Red = "Red"
    Green = "Green"
    Yellow = "Yellow"
    White = "White"
}

# Logging functions
function Write-Log {
    param(
        [string]$Message,
        [string]$Color = $Colors.White
    )
    Write-Host $Message -ForegroundColor $Color
}

function Write-Info {
    param([string]$Message)
    Write-Log "[INFO] $Message" $Colors.Green
}

function Write-Warn {
    param([string]$Message)
    Write-Log "[WARN] $Message" $Colors.Yellow
}

function Write-Error {
    param([string]$Message)
    Write-Log "[ERROR] $Message" $Colors.Red
}

# Detect platform
function Get-PlatformArch {
    $platform = if ($IsWindows) { "win32" } elseif ($IsLinux) { "linux" } elseif ($IsMacOS) { "darwin" } else { throw "Unsupported platform" }

    $arch = $env:PROCESSOR_ARCHITECTURE.ToLower()
    if ($arch -eq "amd64") { $arch = "x64" }
    elseif ($arch -eq "arm64") { $arch = "arm64" }
    else { throw "Unsupported architecture: $arch" }

    return "$platform-$arch"
}

# Download binary
function Download-Binary {
    param([string]$PlatformArch)

    $downloadUrl = if ($Version -eq "latest") {
        "https://github.com/$Repo/releases/latest/download/tamma-$PlatformArch.zip"
    } else {
        "https://github.com/$Repo/releases/download/$Version/tamma-$PlatformArch.zip"
    }

    Write-Info "Downloading Tamma from: $downloadUrl"

    # Create temporary directory
    $tempDir = Join-Path $env:TEMP "tamma-install-$(Get-Random)"
    New-Item -ItemType Directory -Path $tempDir -Force | Out-Null

    try {
        # Download
        Invoke-WebRequest -Uri $downloadUrl -OutFile "$tempDir\tamma.zip"

        # Extract
        Expand-Archive -Path "$tempDir\tamma.zip" -DestinationPath $tempDir -Force

        # Install binary
        New-Item -ItemType Directory -Path $BinDir -Force | Out-Null
        Move-Item "$tempDir\tamma.exe" "$BinDir\tamma.exe" -Force

        Write-Info "Tamma installed to: $BinDir\tamma.exe"
    }
    finally {
        Remove-Item -Path $tempDir -Recurse -Force -ErrorAction SilentlyContinue
    }
}

# Update PATH
function Update-Path {
    $currentPath = [Environment]::GetEnvironmentVariable("PATH", "User")

    if ($currentPath -notlike "*$BinDir*") {
        Write-Info "Adding $BinDir to user PATH"
        $newPath = "$currentPath;$BinDir"
        [Environment]::SetEnvironmentVariable("PATH", $newPath, "User")
        Write-Warn "Please restart PowerShell to use Tamma"
    }
}

# Verify installation
function Test-Installation {
    $tammaPath = Join-Path $BinDir "tamma.exe"

    if (Test-Path $tammaPath) {
        Write-Info "Tamma installed successfully!"
        $version = & $tammaPath --version
        Write-Info "Version: $version"
        Write-Info "Run 'tamma --help' to get started"
    } else {
        Write-Error "Installation verification failed"
        exit 1
    }
}

# Main installation
try {
    Write-Info "Installing Tamma..."

    # Detect platform
    $platformArch = Get-PlatformArch
    Write-Info "Detected platform: $platformArch"

    # Download and install
    Download-Binary -PlatformArch $platformArch

    # Update PATH
    Update-Path

    # Verify installation
    Test-Installation
}
catch {
    Write-Error "Installation failed: $($_.Exception.Message)"
    exit 1
}
```

### 4. Release Automation

#### 4.1 GitHub Actions Workflow

```yaml
# .github/workflows/release-binaries.yml
name: Release Binaries

on:
  push:
    tags:
      - 'v*'

jobs:
  build:
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        include:
          - os: ubuntu-latest
            platform: linux
            arch: x64
          - os: ubuntu-latest
            platform: linux
            arch: arm64
          - os: macos-latest
            platform: darwin
            arch: x64
          - os: macos-latest
            platform: darwin
            arch: arm64
          - os: windows-latest
            platform: win32
            arch: x64

    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '22'

      - name: Install pnpm
        uses: pnpm/action-setup@v2
        with:
          version: 9

      - name: Install dependencies
        run: pnpm install --frozen-lockfile

      - name: Build packages
        run: pnpm build

      - name: Build binary
        run: |
          chmod +x scripts/build-binaries.ts
          node scripts/build-binaries.ts

      - name: Create archive
        run: |
          if [ "${{ matrix.platform }}" = "win32" ]; then
            cd dist
            zip -r tamma-${{ matrix.platform }}-${{ matrix.arch }}.zip tamma-${{ matrix.platform }}-${{ matrix.arch }}.exe
          else
            cd dist
            tar -czf tamma-${{ matrix.platform }}-${{ matrix.arch }}.tar.gz tamma-${{ matrix.platform }}-${{ matrix.arch }}
          fi
        shell: bash

      - name: Upload artifacts
        uses: actions/upload-artifact@v3
        with:
          name: tamma-${{ matrix.platform }}-${{ matrix.arch }}
          path: dist/tamma-${{ matrix.platform }}-${{ matrix.arch }}.*

  release:
    needs: build
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Download all artifacts
        uses: actions/download-artifact@v3
        with:
          path: artifacts

      - name: Create release
        uses: softprops/action-gh-release@v1
        with:
          files: artifacts/**/*
          generate_release_notes: true
          draft: false
          prerelease: false
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

  installers:
    needs: build
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Download artifacts
        uses: actions/download-artifact@v3
        with:
          path: artifacts

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '22'

      - name: Create installers
        run: |
          # Move binaries to dist
          mkdir -p dist
          find artifacts -name "*.tar.gz" -exec tar -xzf {} -C dist \;
          find artifacts -name "*.zip" -exec unzip {} -d dist \;

          # Create installers
          chmod +x installers/linux/create-packages.sh
          chmod +x installers/macos/create-dmg.sh

          # Linux packages
          installers/linux/create-packages.sh

          # macOS DMG
          installers/macos/create-dmg.sh

          # Windows installer (requires makensis)
          # makensis installers/windows/installer.nsi

      - name: Upload installers
        uses: actions/upload-artifact@v3
        with:
          name: installers
          path: |
            *.deb
            *.rpm
            *.dmg
            *.exe
```

### 5. Package Management

#### 5.1 Homebrew Formula

```ruby
# Formula/tamma.rb
class Tamma < Formula
  desc "Autonomous development orchestration platform"
  homepage "https://github.com/tamma/tamma"
  url "https://github.com/tamma/tamma/archive/refs/tags/v1.0.0.tar.gz"
  sha256 "sha256_hash_here"
  license "MIT"

  depends_on "node"

  def install
    system "pnpm", "install"
    system "pnpm", "build"

    bin.install "dist/tamma-darwin-#{Hardware::CPU.arch}" => "tamma"
  end

  test do
    system "#{bin}/tamma", "--version"
  end
end
```

#### 5.2 Chocolatey Package

```xml
<!-- chocolatey/tamma.nuspec -->
<?xml version="1.0" encoding="utf-8"?>
<package xmlns="http://schemas.microsoft.com/packaging/2015/06/nuspec.xsd">
  <metadata>
    <id>tamma</id>
    <version>1.0.0</version>
    <packageSourceUrl>https://github.com/tamma/tamma</packageSourceUrl>
    <owners>Tamma Team</owners>
    <title>Tamma</title>
    <authors>Tamma Team</authors>
    <projectUrl>https://github.com/tamma/tamma</projectUrl>
    <iconUrl>https://raw.githubusercontent.com/tamma/tamma/main/icon.png</iconUrl>
    <copyright>2025 Tamma Team</copyright>
    <licenseUrl>https://github.com/tamma/tamma/blob/main/LICENSE</licenseUrl>
    <requireLicenseAcceptance>false</requireLicenseAcceptance>
    <projectSourceUrl>https://github.com/tamma/tamma</projectSourceUrl>
    <docsUrl>https://github.com/tamma/tamma/wiki</docsUrl>
    <bugTrackerUrl>https://github.com/tamma/tamma/issues</bugTrackerUrl>
    <tags>ai development automation cli</tags>
    <summary>Tamma - Autonomous development orchestration platform</summary>
    <description>
Tamma is an AI-powered autonomous development orchestration platform that manages complete development workflows from GitHub/GitLab issue assignment to production deployment.
    </description>
  </metadata>
  <files>
    <file src="tamma.exe" target="tools" />
  </files>
</package>
```

## Implementation Tasks

### Phase 1: Binary Building (Week 1)

1. **Cross-Platform Compilation**
   - Set up pkg for binary creation
   - Configure build scripts for all platforms
   - Test binary generation

2. **Archive Creation**
   - Implement tar.gz creation for Unix
   - Implement ZIP creation for Windows
   - Add compression and checksums

### Phase 2: Installer Creation (Week 2)

1. **Windows Installer**
   - Create NSIS installer script
   - Add PATH configuration
   - Test installation/uninstallation

2. **macOS Installer**
   - Create DMG with app bundle
   - Add drag-and-drop installation
   - Test on Intel and Apple Silicon

3. **Linux Packages**
   - Create DEB packages for Debian/Ubuntu
   - Create RPM packages for RHEL/Fedora
   - Test package installation

### Phase 3: Distribution (Week 3)

1. **Installation Scripts**
   - Create universal shell script
   - Create PowerShell script for Windows
   - Add platform detection and validation

2. **Package Managers**
   - Create Homebrew formula
   - Create Chocolatey package
   - Submit to package repositories

## Acceptance Criteria

### Functional Requirements

- [ ] Binaries available for Windows, macOS, Linux (x64/arm64)
- [ ] Installers created for all platforms
- [ ] Universal installation scripts work
- [ ] Package manager integration complete
- [ ] Automated release pipeline functional

### Non-Functional Requirements

- [ ] Installation process < 2 minutes
- [ ] Binary size < 100MB compressed
- [ ] Installation success rate > 99%
- [ ] Cross-platform compatibility verified
- [ ] Security signatures and checksums provided

### Integration Requirements

- [ ] GitHub Actions automation
- [ ] Release artifact management
- [ ] Package repository publishing
- [ ] Documentation and guides
- [ ] User support and troubleshooting

## Testing Strategy

### Unit Tests

- Binary building scripts
- Installation script logic
- Platform detection
- Archive creation

### Integration Tests

- End-to-end installation testing
- Cross-platform compatibility
- Package installation verification
- Uninstallation testing

### Manual Testing

- Install on fresh systems
- Test all installation methods
- Verify functionality after installation
- Test upgrade scenarios

## Dependencies

### Internal Dependencies

- All Epic 1.5 stories (1.5-1 through 1.5-8)
- CLI package build system
- Release automation

### External Dependencies

- pkg for binary creation
- NSIS for Windows installers
- Homebrew/Chocolatey repositories
- GitHub Actions

## Risks and Mitigations

### Technical Risks

- **Cross-platform compilation issues**: Use containerized builds
- **Package manager rejection**: Follow guidelines strictly
- **Installation failures**: Comprehensive testing and validation

### Operational Risks

- **Release automation failures**: Manual fallback procedures
- **Package repository downtime**: Multiple distribution channels
- **Security vulnerabilities**: Code signing and checksums

## Success Metrics

### Installation Metrics

- Installation success rate: > 99%
- Average installation time: < 2 minutes
- Cross-platform coverage: 100%

### Distribution Metrics

- Package downloads across all platforms
- Installation method usage statistics
- User-reported installation issues

### Quality Metrics

- Binary size and performance
- Installation script reliability
- Package manager approval rates

## Rollout Plan

### Phase 1: Internal Testing

- Test all installation methods internally
- Validate cross-platform compatibility
- Fix reported issues

### Phase 2: Beta Release

- Release to beta testers
- Gather feedback on installation experience
- Refine installation process

### Phase 3: General Availability

- Publish to all distribution channels
- Update documentation with installation guides
- Promote easy installation methods

## Monitoring and Alerting

### Installation Metrics

- Download counts per platform
- Installation success/failure rates
- Installation method popularity

### Quality Metrics

- Binary performance benchmarks
- Installation script error rates
- User feedback and issues

### Security Metrics

- Binary signature verification
- Checksum validation
- Security scan results

### References

- **ðŸ”´ MANDATORY PROCESS:** [BEFORE_YOU_CODE.md](../../BEFORE_YOU_CODE.md)
- **Knowledge Base:** [.dev/README.md](../../.dev/README.md) - Search spikes, bugs, findings, decisions
